{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport store from './store';\nconst routes = [{\n  path: '/',\n  component: () => import('./components/page_account/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/signup/student',\n  component: () => import('./components/page_sign_up_student/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/signin',\n  component: () => import('./components/page_sign_in/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/dashboard',\n  component: () => import('./components/page_account/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/dashboard/edit',\n  component: () => import('./components/page_account_edit/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/tuksai',\n  component: () => import('./components/page_tuks_ai/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/goals',\n  component: () => import('./components/page_goals/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/more',\n  component: () => import('./components/page_more/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/timetable',\n  component: () => import('./components/page_timetable/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/upsocials',\n  component: () => import('./components/page_up_socials/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/chat/message/:userId',\n  component: () => import('./components/page_acccount_chat_message/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/account/chat',\n  component: () => import('./components/page_acccount_chats/p_1.vue'),\n  meta: {\n    requiresAuth: true\n  }\n},\n// Wildcard route to redirect to '/' if path does not exist\n{\n  path: '/:pathMatch(.*)*',\n  redirect: '/'\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n  scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition;\n    } else {\n      return {\n        top: 0\n      };\n    }\n  }\n});\nrouter.beforeEach((to, from, next) => {\n  // Check if route requires authentication\n  if (to.meta.requiresAuth) {\n    // Check if user data exists in the store\n    if (!store.getters.userData) {\n      // If user data does not exist, fetch it from the server\n      store.dispatch('fetchUserData').then(() => {\n        // Proceed to the next route after fetching user data\n        next();\n      });\n    } else {\n      // User data exists, proceed to the next route\n      next();\n    }\n  } else {\n    // Route does not require authentication, proceed to the next route\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","store","routes","path","component","meta","requiresAuth","redirect","router","history","scrollBehavior","to","from","savedPosition","top","beforeEach","next","getters","userData","dispatch","then"],"sources":["C:/Users/TyreseMakhubele/Documents/Other/P/SmartTravelApp/Frontend/smart-travel-planner/src/router.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\r\nimport store from './store';\r\n\r\nconst routes = [\r\n  { \r\n    path: '/', \r\n    component: () => import('./components/page_account/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n  { \r\n    path: '/signup/student', \r\n    component: () => import('./components/page_sign_up_student/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n  { \r\n    path: '/signin', \r\n    component: () => import('./components/page_sign_in/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n  { \r\n    path: '/dashboard', \r\n    component: () => import('./components/page_account/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n  { \r\n    path: '/dashboard/edit', \r\n    component: () => import('./components/page_account_edit/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n  { \r\n    path: '/tuksai', \r\n    component: () => import('./components/page_tuks_ai/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n  { \r\n    path: '/goals', \r\n    component: () => import('./components/page_goals/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n  { \r\n    path: '/more', \r\n    component: () => import('./components/page_more/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n  { \r\n    path: '/timetable', \r\n    component: () => import('./components/page_timetable/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n  { \r\n    path: '/upsocials', \r\n    component: () => import('./components/page_up_socials/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n  { \r\n    path: '/chat/message/:userId', \r\n    component: () => import('./components/page_acccount_chat_message/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n  { \r\n    path: '/account/chat', \r\n    component: () => import('./components/page_acccount_chats/p_1.vue'),\r\n    meta: { requiresAuth: true }\r\n  },\r\n\r\n  // Wildcard route to redirect to '/' if path does not exist\r\n  { path: '/:pathMatch(.*)*', redirect: '/' }\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n  scrollBehavior(to, from, savedPosition) {\r\n    if (savedPosition) {\r\n      return savedPosition;\r\n    } else {\r\n      return { top: 0 };\r\n    }\r\n  }\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  // Check if route requires authentication\r\n  if (to.meta.requiresAuth) {\r\n    // Check if user data exists in the store\r\n    if (!store.getters.userData) {\r\n      // If user data does not exist, fetch it from the server\r\n      store.dispatch('fetchUserData').then(() => {\r\n        // Proceed to the next route after fetching user data\r\n        next();\r\n      });\r\n    } else {\r\n      // User data exists, proceed to the next route\r\n      next();\r\n    }\r\n  } else {\r\n    // Route does not require authentication, proceed to the next route\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}