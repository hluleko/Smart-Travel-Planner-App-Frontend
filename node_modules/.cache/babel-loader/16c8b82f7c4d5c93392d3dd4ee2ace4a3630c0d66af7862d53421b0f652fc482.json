{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"profile-page\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"success\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"error\"\n};\nconst _hoisted_4 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[9] || (_cache[9] = _createElementVNode(\"h1\", null, \"Profile\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.updateProfile && $options.updateProfile(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"name\"\n  }, \"Name\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event),\n    type: \"text\",\n    id: \"name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.name]])]), _createElementVNode(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"surname\"\n  }, \"Surname\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.surname = $event),\n    type: \"text\",\n    id: \"surname\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.surname]])]), _createElementVNode(\"div\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"business_name\"\n  }, \"Business Name\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.business_name = $event),\n    type: \"text\",\n    id: \"business_name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.business_name]])]), _createElementVNode(\"div\", null, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"industry\"\n  }, \"Industry\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.industry = $event),\n    type: \"text\",\n    id: \"industry\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.industry]])]), $data.updateSuccess ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"Profile updated successfully!\")) : _createCommentVNode(\"v-if\", true), $data.updateError ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString($data.updateError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $data.loading\n  }, _toDisplayString($data.loading ? 'Updating...' : 'Update Profile'), 9 /* TEXT, PROPS */, _hoisted_4)], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","updateProfile","for","$event","$data","name","type","id","surname","business_name","industry","updateSuccess","_hoisted_2","_createCommentVNode","updateError","_hoisted_3","_toDisplayString","disabled","loading","_hoisted_4"],"sources":["C:\\Users\\TyreseMakhubele\\Documents\\Other\\P\\SmartTravelApp\\Frontend\\smart-travel-planner\\src\\views\\ProfilePage.vue"],"sourcesContent":["<template>\r\n    <div class=\"profile-page\">\r\n      <h1>Profile</h1>\r\n      <form @submit.prevent=\"updateProfile\">\r\n        <div>\r\n          <label for=\"name\">Name</label>\r\n          <input v-model=\"name\" type=\"text\" id=\"name\" />\r\n        </div>\r\n        <div>\r\n          <label for=\"surname\">Surname</label>\r\n          <input v-model=\"surname\" type=\"text\" id=\"surname\" />\r\n        </div>\r\n        <div>\r\n          <label for=\"business_name\">Business Name</label>\r\n          <input v-model=\"business_name\" type=\"text\" id=\"business_name\" />\r\n        </div>\r\n        <div>\r\n          <label for=\"industry\">Industry</label>\r\n          <input v-model=\"industry\" type=\"text\" id=\"industry\" />\r\n        </div>\r\n  \r\n        <div v-if=\"updateSuccess\" class=\"success\">Profile updated successfully!</div>\r\n        <div v-if=\"updateError\" class=\"error\">{{ updateError }}</div>\r\n  \r\n        <button type=\"submit\" :disabled=\"loading\">\r\n          {{ loading ? 'Updating...' : 'Update Profile' }}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { mapState } from 'vuex';\r\n  import { updateUserProfile } from '@/composables/useFirestore';\r\n  \r\n  export default {\r\n    name: 'ProfilePage',\r\n    data() {\r\n      return {\r\n        name: '',\r\n        surname: '',\r\n        business_name: '',\r\n        industry: '',\r\n        loading: false,\r\n        updateError: null,\r\n        updateSuccess: false,\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState(['profile']),\r\n    },\r\n    mounted() {\r\n      if (this.profile) {\r\n        this.name = this.profile.name || '';\r\n        this.surname = this.profile.surname || '';\r\n        this.business_name = this.profile.business_name || '';\r\n        this.industry = this.profile.industry || '';\r\n      }\r\n    },\r\n    methods: {\r\n      async updateProfile() {\r\n        this.loading = true;\r\n        this.updateError = null;\r\n        this.updateSuccess = false;\r\n  \r\n        try {\r\n          const updatedFields = {\r\n            name: this.name,\r\n            surname: this.surname,\r\n            business_name: this.business_name,\r\n            industry: this.industry,\r\n          };\r\n  \r\n          await updateUserProfile(updatedFields);\r\n          await this.$store.dispatch('getUserProfile');\r\n  \r\n          this.updateSuccess = true;\r\n        } catch (error) {\r\n          console.error(error);\r\n          this.updateError = 'Failed to update profile. Please try again.';\r\n        } finally {\r\n          this.loading = false;\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n\r\n  \r\n  <style scoped>\r\n  .profile-container {\r\n    max-width: 500px;\r\n    margin: 2rem auto;\r\n    padding: 2rem;\r\n    border: 1px solid #ddd;\r\n    border-radius: 8px;\r\n    background: #fff;\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  }\r\n  h2 {\r\n    margin-bottom: 1.5rem;\r\n    color: #007bff;\r\n  }\r\n  .form-group {\r\n    margin-bottom: 1rem;\r\n  }\r\n  label {\r\n    display: block;\r\n    font-weight: 600;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  input {\r\n    width: 100%;\r\n    padding: 0.6rem;\r\n    border-radius: 4px;\r\n    border: 1px solid #ccc;\r\n  }\r\n  button {\r\n    width: 100%;\r\n    padding: 0.8rem;\r\n    background: #007bff;\r\n    border: none;\r\n    color: white;\r\n    font-weight: bold;\r\n    border-radius: 4px;\r\n    margin-top: 1rem;\r\n    cursor: pointer;\r\n  }\r\n  button.delete-btn {\r\n    background: #dc3545;\r\n    margin-top: 0.5rem;\r\n  }\r\n  button:disabled {\r\n    background: #6c757d;\r\n  }\r\n  .message {\r\n    margin-top: 1rem;\r\n    font-weight: bold;\r\n  }\r\n  .success {\r\n    color: green;\r\n  }\r\n  .error {\r\n    color: red;\r\n  }\r\n  </style>\r\n  "],"mappings":";;EACSA,KAAK,EAAC;AAAc;;EAD7BC,GAAA;EAqBkCD,KAAK,EAAC;;;EArBxCC,GAAA;EAsBgCD,KAAK,EAAC;;mBAtBtC;;uBACIE,mBAAA,CA2BM,OA3BNC,UA2BM,G,0BA1BJC,mBAAA,CAAgB,YAAZ,SAAO,sBACXA,mBAAA,CAwBO;IAxBAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAHnBC,cAAA,KAAAC,IAAA,KAG6BC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;MAClCJ,mBAAA,CAGM,c,0BAFJA,mBAAA,CAA8B;IAAvBO,GAAG,EAAC;EAAM,GAAC,MAAI,sB,gBACtBP,mBAAA,CAA8C;IANxD,uBAAAE,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAM0BC,KAAA,CAAAC,IAAI,GAAAF,MAAA;IAAEG,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC;iDAArBH,KAAA,CAAAC,IAAI,E,KAEtBV,mBAAA,CAGM,c,0BAFJA,mBAAA,CAAoC;IAA7BO,GAAG,EAAC;EAAS,GAAC,SAAO,sB,gBAC5BP,mBAAA,CAAoD;IAV9D,uBAAAE,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAU0BC,KAAA,CAAAI,OAAO,GAAAL,MAAA;IAAEG,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC;iDAAxBH,KAAA,CAAAI,OAAO,E,KAEzBb,mBAAA,CAGM,c,0BAFJA,mBAAA,CAAgD;IAAzCO,GAAG,EAAC;EAAe,GAAC,eAAa,sB,gBACxCP,mBAAA,CAAgE;IAd1E,uBAAAE,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAc0BC,KAAA,CAAAK,aAAa,GAAAN,MAAA;IAAEG,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC;iDAA9BH,KAAA,CAAAK,aAAa,E,KAE/Bd,mBAAA,CAGM,c,0BAFJA,mBAAA,CAAsC;IAA/BO,GAAG,EAAC;EAAU,GAAC,UAAQ,sB,gBAC9BP,mBAAA,CAAsD;IAlBhE,uBAAAE,MAAA,QAAAA,MAAA,MAAAM,MAAA,IAkB0BC,KAAA,CAAAM,QAAQ,GAAAP,MAAA;IAAEG,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC;iDAAzBH,KAAA,CAAAM,QAAQ,E,KAGfN,KAAA,CAAAO,aAAa,I,cAAxBlB,mBAAA,CAA6E,OAA7EmB,UAA6E,EAAnC,+BAA6B,KArB/EC,mBAAA,gBAsBmBT,KAAA,CAAAU,WAAW,I,cAAtBrB,mBAAA,CAA6D,OAA7DsB,UAA6D,EAAAC,gBAAA,CAApBZ,KAAA,CAAAU,WAAW,oBAtB5DD,mBAAA,gBAwBQlB,mBAAA,CAES;IAFDW,IAAI,EAAC,QAAQ;IAAEW,QAAQ,EAAEb,KAAA,CAAAc;sBAC5Bd,KAAA,CAAAc,OAAO,2DAzBpBC,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}