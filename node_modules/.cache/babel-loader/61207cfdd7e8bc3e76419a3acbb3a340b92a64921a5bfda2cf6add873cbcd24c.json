{"ast":null,"code":"import { mapState } from 'vuex';\nimport { updateUserProfile } from '@/composables/useFirestore';\nexport default {\n  name: 'ProfilePage',\n  data() {\n    return {\n      name: '',\n      surname: '',\n      business_name: '',\n      industry: '',\n      loading: false,\n      updateError: null,\n      updateSuccess: false\n    };\n  },\n  computed: {\n    ...mapState(['profile'])\n  },\n  mounted() {\n    if (this.profile) {\n      this.name = this.profile.name || '';\n      this.surname = this.profile.surname || '';\n      this.business_name = this.profile.business_name || '';\n      this.industry = this.profile.industry || '';\n    }\n  },\n  methods: {\n    async updateProfile() {\n      this.loading = true;\n      this.updateError = null;\n      this.updateSuccess = false;\n      try {\n        const updatedFields = {\n          name: this.name,\n          surname: this.surname,\n          business_name: this.business_name,\n          industry: this.industry\n        };\n        await updateUserProfile(updatedFields);\n        await this.$store.dispatch('getUserProfile');\n        this.updateSuccess = true;\n      } catch (error) {\n        console.error(error);\n        this.updateError = 'Failed to update profile. Please try again.';\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapState","updateUserProfile","name","data","surname","business_name","industry","loading","updateError","updateSuccess","computed","mounted","profile","methods","updateProfile","updatedFields","$store","dispatch","error","console"],"sources":["C:\\Users\\TyreseMakhubele\\Documents\\Other\\P\\SmartTravelApp\\Frontend\\smart-travel-planner\\src\\views\\ProfilePage.vue"],"sourcesContent":["<template>\r\n    <div class=\"profile-page\">\r\n      <h1>Profile</h1>\r\n      <form @submit.prevent=\"updateProfile\">\r\n        <div>\r\n          <label for=\"name\">Name</label>\r\n          <input v-model=\"name\" type=\"text\" id=\"name\" />\r\n        </div>\r\n        <div>\r\n          <label for=\"surname\">Surname</label>\r\n          <input v-model=\"surname\" type=\"text\" id=\"surname\" />\r\n        </div>\r\n        <div>\r\n          <label for=\"business_name\">Business Name</label>\r\n          <input v-model=\"business_name\" type=\"text\" id=\"business_name\" />\r\n        </div>\r\n        <div>\r\n          <label for=\"industry\">Industry</label>\r\n          <input v-model=\"industry\" type=\"text\" id=\"industry\" />\r\n        </div>\r\n  \r\n        <div v-if=\"updateSuccess\" class=\"success\">Profile updated successfully!</div>\r\n        <div v-if=\"updateError\" class=\"error\">{{ updateError }}</div>\r\n  \r\n        <button type=\"submit\" :disabled=\"loading\">\r\n          {{ loading ? 'Updating...' : 'Update Profile' }}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { mapState } from 'vuex';\r\n  import { updateUserProfile } from '@/composables/useFirestore';\r\n  \r\n  export default {\r\n    name: 'ProfilePage',\r\n    data() {\r\n      return {\r\n        name: '',\r\n        surname: '',\r\n        business_name: '',\r\n        industry: '',\r\n        loading: false,\r\n        updateError: null,\r\n        updateSuccess: false,\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState(['profile']),\r\n    },\r\n    mounted() {\r\n      if (this.profile) {\r\n        this.name = this.profile.name || '';\r\n        this.surname = this.profile.surname || '';\r\n        this.business_name = this.profile.business_name || '';\r\n        this.industry = this.profile.industry || '';\r\n      }\r\n    },\r\n    methods: {\r\n      async updateProfile() {\r\n        this.loading = true;\r\n        this.updateError = null;\r\n        this.updateSuccess = false;\r\n  \r\n        try {\r\n          const updatedFields = {\r\n            name: this.name,\r\n            surname: this.surname,\r\n            business_name: this.business_name,\r\n            industry: this.industry,\r\n          };\r\n  \r\n          await updateUserProfile(updatedFields);\r\n          await this.$store.dispatch('getUserProfile');\r\n  \r\n          this.updateSuccess = true;\r\n        } catch (error) {\r\n          console.error(error);\r\n          this.updateError = 'Failed to update profile. Please try again.';\r\n        } finally {\r\n          this.loading = false;\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n\r\n  \r\n  <style scoped>\r\n  .profile-container {\r\n    max-width: 500px;\r\n    margin: 2rem auto;\r\n    padding: 2rem;\r\n    border: 1px solid #ddd;\r\n    border-radius: 8px;\r\n    background: #fff;\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  }\r\n  h2 {\r\n    margin-bottom: 1.5rem;\r\n    color: #007bff;\r\n  }\r\n  .form-group {\r\n    margin-bottom: 1rem;\r\n  }\r\n  label {\r\n    display: block;\r\n    font-weight: 600;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  input {\r\n    width: 100%;\r\n    padding: 0.6rem;\r\n    border-radius: 4px;\r\n    border: 1px solid #ccc;\r\n  }\r\n  button {\r\n    width: 100%;\r\n    padding: 0.8rem;\r\n    background: #007bff;\r\n    border: none;\r\n    color: white;\r\n    font-weight: bold;\r\n    border-radius: 4px;\r\n    margin-top: 1rem;\r\n    cursor: pointer;\r\n  }\r\n  button.delete-btn {\r\n    background: #dc3545;\r\n    margin-top: 0.5rem;\r\n  }\r\n  button:disabled {\r\n    background: #6c757d;\r\n  }\r\n  .message {\r\n    margin-top: 1rem;\r\n    font-weight: bold;\r\n  }\r\n  .success {\r\n    color: green;\r\n  }\r\n  .error {\r\n    color: red;\r\n  }\r\n  </style>\r\n  "],"mappings":"AAgCE,SAASA,QAAO,QAAS,MAAM;AAC/B,SAASC,iBAAgB,QAAS,4BAA4B;AAE9D,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLD,IAAI,EAAE,EAAE;MACRE,OAAO,EAAE,EAAE;MACXC,aAAa,EAAE,EAAE;MACjBC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,KAAK;MACdC,WAAW,EAAE,IAAI;MACjBC,aAAa,EAAE;IACjB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGV,QAAQ,CAAC,CAAC,SAAS,CAAC;EACzB,CAAC;EACDW,OAAOA,CAAA,EAAG;IACR,IAAI,IAAI,CAACC,OAAO,EAAE;MAChB,IAAI,CAACV,IAAG,GAAI,IAAI,CAACU,OAAO,CAACV,IAAG,IAAK,EAAE;MACnC,IAAI,CAACE,OAAM,GAAI,IAAI,CAACQ,OAAO,CAACR,OAAM,IAAK,EAAE;MACzC,IAAI,CAACC,aAAY,GAAI,IAAI,CAACO,OAAO,CAACP,aAAY,IAAK,EAAE;MACrD,IAAI,CAACC,QAAO,GAAI,IAAI,CAACM,OAAO,CAACN,QAAO,IAAK,EAAE;IAC7C;EACF,CAAC;EACDO,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAA,EAAG;MACpB,IAAI,CAACP,OAAM,GAAI,IAAI;MACnB,IAAI,CAACC,WAAU,GAAI,IAAI;MACvB,IAAI,CAACC,aAAY,GAAI,KAAK;MAE1B,IAAI;QACF,MAAMM,aAAY,GAAI;UACpBb,IAAI,EAAE,IAAI,CAACA,IAAI;UACfE,OAAO,EAAE,IAAI,CAACA,OAAO;UACrBC,aAAa,EAAE,IAAI,CAACA,aAAa;UACjCC,QAAQ,EAAE,IAAI,CAACA;QACjB,CAAC;QAED,MAAML,iBAAiB,CAACc,aAAa,CAAC;QACtC,MAAM,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,gBAAgB,CAAC;QAE5C,IAAI,CAACR,aAAY,GAAI,IAAI;MAC3B,EAAE,OAAOS,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACpB,IAAI,CAACV,WAAU,GAAI,6CAA6C;MAClE,UAAU;QACR,IAAI,CAACD,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}